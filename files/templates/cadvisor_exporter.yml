---
groups:
  - name: cadvisor.rules
    rules:
      - alert: ContainerIsDown
        expr: floor(time() - max(max_over_time(container_last_seen{name!~"^$|^runner-.*"}[24h])) by (name)) > 20
        for: 10s
        labels:
          severity: critical
        annotations:
          summary: "{{ $labels.node_name }} container {{ $labels.name }} is down."
          summary_resolved: "{{ $labels.node_name }} container {{ $labels.name }} is up."
          description: "Returned value is {{ .Value }} for {{ $labels.node_name }} container {{ $labels.name }}."
